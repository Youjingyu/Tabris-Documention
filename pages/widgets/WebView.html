    <h1 id="webview">WebView</h1>

    <p>Extends <a href="/tabris-js-docs/latest/api/Widget.html">Widget</a></p>

    <p>A widget that can display a web page. Since this widget requires a lot of resources it’s recommended to have no more than one instance at a time.</p>

    <p>Import this type with “<code class="highlighter-rouge">const {WebView} = require('tabris');</code>”</p>

    <h2 id="methods">Methods</h2>

    <h3 id="goback">goBack()</h3>

    <p>Navigate the <code class="highlighter-rouge">WebView</code> to the previous page if possible.</p>

    <h3 id="goforward">goForward()</h3>

    <p>Navigate the <code class="highlighter-rouge">WebView</code> to the next page if possible.</p>

    <h3 id="postmessagemessage-targetorigin">postMessage(message, targetOrigin)</h3>
    <p class="platforms"><span class="ios-tag" title="supported on iOS">iOS</span><span class="android-tag" title="supported on Android">Android</span></p>

    <p><strong>Parameters:</strong></p>

    <ul>
        <li>message: <em>string</em>
            <ul>
                <li>the message to send. Currently supports only strings.</li>
            </ul>
        </li>
        <li>targetOrigin: <em>string</em>
            <ul>
                <li>the URL of the page that receives the message. The message is only sent if the current document URL has the same scheme, domain and path. Use <code class="highlighter-rouge">*</code> to send to any URL.</li>
            </ul>
        </li>
    </ul>

    <p><strong>Returns:</strong> <em>this</em></p>

    <p>Posts a web message to the underlying <code class="highlighter-rouge">window</code> object of the WebView. The website in the <code class="highlighter-rouge">WebView</code> can register for the message in the following fashion: <code class="highlighter-rouge">window.addEventListener('message', callbackFunction)</code>. For more information see <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage"><code class="highlighter-rouge">Window.postMessage()</code></a> API.</p>

    <h2 id="properties">Properties</h2>

    <h3 id="cangoback">canGoBack</h3>

    <p><strong>read-only</strong><br>
        Type: <em>boolean</em></p>

    <p>Whether there is a previous to navigated to via <code class="highlighter-rouge">goBack()</code>.</p>

    <h3 id="cangoforward">canGoForward</h3>

    <p><strong>read-only</strong><br>
        Type: <em>boolean</em></p>

    <p>Whether there is a next page to navigate to via <code class="highlighter-rouge">goForward()</code>.</p>

    <h3 id="html">html</h3>

    <p>Type: <em>string</em></p>

    <p>A complete HTML document to display. Always returns the last set value.</p>

    <h3 id="url">url</h3>

    <p>Type: <em>string</em></p>

    <p>The URL of the web page to display. Relative URLs are resolved relative to ‘package.json’. Returns empty string when content from <em>html</em> property is displayed.</p>

    <h2 id="events">Events</h2>

    <h3 id="cangobackchanged">canGoBackChanged</h3>

    <p>Fired when the <a href="#canGoBack"><em>canGoBack</em></a> property has changed.</p>

    <h4 id="event-parameters">Event Parameters</h4>
    <ul>
        <li>
            <p><strong>target</strong>: <em>this</em>
                The widget the event was fired on.</p>
        </li>
        <li>
            <p><strong>value</strong>: <em>boolean</em>
                The new value of <a href="#canGoBack"><em>canGoBack</em></a>.</p>
        </li>
    </ul>

    <h3 id="cangoforwardchanged">canGoForwardChanged</h3>

    <p>Fired when the <a href="#canGoForward"><em>canGoForward</em></a> property has changed.</p>

    <h4 id="event-parameters-1">Event Parameters</h4>
    <ul>
        <li>
            <p><strong>target</strong>: <em>this</em>
                The widget the event was fired on.</p>
        </li>
        <li>
            <p><strong>value</strong>: <em>boolean</em>
                The new value of <a href="#canGoForward"><em>canGoForward</em></a>.</p>
        </li>
    </ul>

    <h3 id="download">download</h3>
    <p class="platforms"><span class="android-tag" title="supported on Android">Android</span></p>
    <p>Fired when the WebView requests a download. The download event provides the properties <code class="highlighter-rouge">url</code>, <code class="highlighter-rouge">mimeType</code>, <code class="highlighter-rouge">contentLength</code> and <code class="highlighter-rouge">contentDisposition</code>. Supported only on Android.</p>

    <h4 id="event-parameters-2">Event Parameters</h4>
    <ul>
        <li>
            <p><strong>target</strong>: <em>this</em>
                The widget the event was fired on.</p>
        </li>
        <li>
            <p><strong>contentDisposition</strong>: <em>string</em>
                Indicates whether the download is expected to be displayed inline or to be downloaded as an attachment.</p>
        </li>
        <li>
            <p><strong>contentLength</strong>: <em>number</em>
                The size of the downloaded entity body.</p>
        </li>
        <li>
            <p><strong>mimeType</strong>: <em>string</em>
                The mime type of the resource to be downloaded.</p>
        </li>
        <li>
            <p><strong>url</strong>: <em>string</em>
                The URL of the resource to be downloaded.</p>
        </li>
    </ul>

    <h3 id="htmlchanged">htmlChanged</h3>

    <p>Fired when the <a href="#html"><em>html</em></a> property has changed.</p>

    <h4 id="event-parameters-3">Event Parameters</h4>
    <ul>
        <li>
            <p><strong>target</strong>: <em>this</em>
                The widget the event was fired on.</p>
        </li>
        <li>
            <p><strong>value</strong>: <em>string</em>
                The new value of <a href="#html"><em>html</em></a>.</p>
        </li>
    </ul>

    <h3 id="load">load</h3>

    <p>Fired when the url has been loaded.</p>
    <h3 id="message">message</h3>
    <p class="platforms"><span class="ios-tag" title="supported on iOS">iOS</span><span class="android-tag" title="supported on Android">Android</span></p>
    <p>Fired when a web message has been sent via <code class="highlighter-rouge">window.parent.postMessage(message, targetOrigin)</code> from inside the <code class="highlighter-rouge">WebView</code>.</p>

    <h4 id="event-parameters-4">Event Parameters</h4>
    <ul>
        <li>
            <p><strong>target</strong>: <em>this</em>
                The widget the event was fired on.</p>
        </li>
        <li>
            <p><strong>data</strong>: <em>string</em>
                The sent message.</p>
        </li>
    </ul>

    <h3 id="navigate">navigate</h3>

    <p>Fired when the WebView is about to navigate to a new URL.</p>

    <h4 id="event-parameters-5">Event Parameters</h4>
    <ul>
        <li>
            <p><strong>target</strong>: <em>this</em>
                The widget the event was fired on.</p>
        </li>
        <li>
            <p><strong>preventDefault</strong>: <em>() =&gt; void</em>
                Call to intercept the navigation.  Not possible when the event is only an anchor navigation</p>
        </li>
        <li>
            <p><strong>url</strong>: <em>string</em>
                The new URL the WebView is about to navigate to.</p>
        </li>
    </ul>

    <h3 id="urlchanged">urlChanged</h3>

    <p>Fired when the <a href="#url"><em>url</em></a> property has changed.</p>

    <h4 id="event-parameters-6">Event Parameters</h4>
    <ul>
        <li>
            <p><strong>target</strong>: <em>this</em>
                The widget the event was fired on.</p>
        </li>
        <li>
            <p><strong>value</strong>: <em>string</em>
                The new value of <a href="#url"><em>url</em></a>.</p>
        </li>
    </ul>

    <h2 id="example">Example</h2>
    <div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="p">{</span><span class="nx">TextInput</span><span class="p">,</span> <span class="nx">WebView</span><span class="p">,</span> <span class="nx">ui</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'tabris'</span><span class="p">);</span>

<span class="c1">// Create a web view to show a web page</span>

<span class="kd">let</span> <span class="nx">urlInput</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TextInput</span><span class="p">({</span>
  <span class="na">left</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="na">right</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="na">top</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="na">message</span><span class="p">:</span> <span class="s1">'Enter URL...'</span><span class="p">,</span>
  <span class="na">text</span><span class="p">:</span> <span class="s1">'http://en.wikipedia.org'</span>
<span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'accept'</span><span class="p">,</span> <span class="nx">loadUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">contentView</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">webView</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebView</span><span class="p">({</span>
  <span class="na">left</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">top</span><span class="p">:</span> <span class="s1">'prev() 8'</span><span class="p">,</span> <span class="na">right</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">bottom</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">ui</span><span class="p">.</span><span class="nx">contentView</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">loadUrl</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">webView</span><span class="p">.</span><span class="nx">url</span> <span class="o">=</span> <span class="nx">urlInput</span><span class="p">.</span><span class="nx">text</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">loadUrl</span><span class="p">();</span>
</code></pre>
    </div>
    <h2 id="see-also">See also</h2>

    <ul>
        <li><a href="https://github.com/eclipsesource/tabris-js/tree/v2.1.0/snippets/webview.js">Simple WebView snippet</a></li>
        <li><a href="https://github.com/eclipsesource/tabris-js/tree/v2.1.0/snippets/webview-webmessaging.js">WebView snippet demonstrating web messaging</a></li>
        <li><a href="https://en.wikipedia.org/wiki/Web_Messaging">Web Messaging</a></li>
    </ul>